(()=>{var t={5372:()=>{var t;(t=jQuery)(document).ready((function(){t(".dokan-announcement-wrapper").on("click","a.remove_announcement",(function(a){if(a.preventDefault(),confirm(dokan.delete_confirm)){var e=t(this),i={action:"dokan_announcement_remove_row",row_id:e.data("notice_row"),_wpnonce:dokan.nonce};e.closest(".dokan-announcement-wrapper-item").append('<span class="dokan-loading" style="position:absolute;top:2px; right:15px"> </span>');var n=t(".dokan-announcement-wrapper-item").length;t.post(dokan.ajaxurl,i,(function(a){a.success?(e.closest(".dokan-announcement-wrapper-item").find("span.dokan-loading").remove(),e.closest(".dokan-announcement-wrapper-item").fadeOut((function(){t(this).remove(),1==n&&t(".dokan-announcement-wrapper").html(a.data)}))):alert(dokan.wrong_message)}))}}))}))},9318:()=>{!function(t){t.validator.setDefaults({ignore:":hidden"});var a=function(a,e){t(e).closest(".form-group").addClass("has-error").append(a)},e=function(a,e){t(e).closest(".form-group").removeClass("has-error")};({init:function(){this.couponsValidation(this),t("select#discount_type").on("change",this.type_options).trigger("change")},couponsValidation:function(i){t("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:a,success:e})},type_options:function(){t(this).val().indexOf("percent")>=0?t("#coupon_amount").removeClass("wc_input_price").addClass("wc_input_decimal"):t("#coupon_amount").removeClass("wc_input_decimal").addClass("wc_input_price")}}).init()}(jQuery)},3110:()=>{jQuery(document).ready((function(t){"use strict";function a(a){this.$table=t(a),this.current_tr=null,this.current_tr_posX=0,this.edit_form=null,this.current_product_id=0,this.bindElements()}a.prototype.bindElements=function(){var a=this;a.$table.on("click",".item-inline-edit",(function(e){if(e.preventDefault(),!dokan.is_vendor_enabled)return alert(dokan.not_enable_message);a.$table.find("tr.dokan-product-list-inline-edit-form").addClass("dokan-hide");var i=t(this).children("a");a.current_product_id=i.data("product-id"),a.current_tr=i.parents("tr"),a.current_tr_posX=a.current_tr.offset().top,a.current_tr.addClass("dokan-hide"),a.edit_form=a.current_tr.next(".dokan-product-list-inline-edit-form"),a.edit_form.removeClass("dokan-hide"),a.bindSelect2(),a.scrollTop()})),a.$table.on("click",".inline-edit-cancel",(function(t){t.preventDefault(),a.current_tr.removeClass("dokan-hide").next(".dokan-product-list-inline-edit-form").addClass("dokan-hide"),a.scrollTop()})),a.$table.on("click",".inline-edit-update",(function(e){e.preventDefault();var i=t(this),n=i.parent(),o=i.parents("fieldset");n.addClass("show-loading-animation"),o.attr("disabled","disabled");var r={};a.edit_form.find("[data-field-name]").each((function(){"checkbox"===t(this).attr("type")?r[t(this).data("field-name")]=t(this).is(":checked"):r[t(this).data("field-name")]=t(this).val()})),t.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:{action:"dokan_product_inline_edit",security:dokan.product_inline_edit_nonce,data:r}}).done((function(t){t.data&&t.data.row&&(a.scrollTop(a.current_tr),a.edit_form.addClass("dokan-hide").prev().replaceWith(t.data.row))})).fail((function(t){t.responseJSON&&"string"==typeof t.responseJSON.data&&alert(t.responseJSON.data)})).always((function(){n.removeClass("show-loading-animation"),o.removeAttr("disabled")}))})),a.$table.on("click","[data-field-toggler]",(function(e){var i=t(this).data("field-name"),n=t(this).is(":checked");a.edit_form.find('[data-field-toggle="'+i+'"]').each((function(){var e=t(this),i=e.data("field-show-on");n==i?e.removeClass("dokan-hide"):e.addClass("dokan-hide"),e.find(".dokan-select2").select2("destroy").removeClass("dokan-select2"),a.bindSelect2()}))}))},a.prototype.bindSelect2=function(){this.edit_form.find("select:not(.dokan-select2)").addClass("dokan-select2").select2()},a.prototype.scrollTop=function(){t("html, body").scrollTop(this.current_tr_posX-50)},t(".dokan-inline-editable-table").each((function(){new a(this)}))}))},7636:()=>{jQuery((function(t){var a={init:function(){t("#dokan-variable-product-options").on("change","input.variable_is_downloadable",this.variable_is_downloadable).on("change","input.variable_is_virtual",this.variable_is_virtual).on("change","input.variable_manage_stock",this.variable_manage_stock).on("click",".expand_all",this.expand_all).on("click",".close_all",this.close_all).on("click",".dokan-product-variation-itmes .sort",this.set_menu_order).on("reload",this.reload),t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),t(".dokan-product-variation-wrapper").on("dokan_variations_loaded",this.variations_loaded),t(document.body).on("dokan_variations_added",this.variation_added),this.variation_toggle_init()},reload:function(){e.load_variations(1),i.set_paginav(0)},variable_is_downloadable:function(){t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").hide(),t(this).is(":checked")&&t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").show()},variable_is_virtual:function(){t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").show(),t(this).is(":checked")&&t(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").hide()},variable_manage_stock:function(){t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").hide(),t(this).is(":checked")&&t(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").show()},expand_all:function(a){return t(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").show(),!1},close_all:function(a){return t(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").hide(),!1},variation_toggle_init:function(){t(".dokan-attribute-variation-options").on("click","h3.variation-topbar-heading",(function(a){a.preventDefault();var e=t(this);e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){t(this).is(":visible")?e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")}))})),t(".dokan-attribute-variation-options").on("click",".toggle-variation-content",(function(a){a.preventDefault();var e=t(this);return e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){t(this).is(":visible")?e.removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")})),!1}))},variations_loaded:function(e,i){i=i||!1;var n=t(".dokan-attribute-variation-options");function o(a){Number(a.closest(".variable_pricing").find("span.vendor-price").text())<0?(a.closest(".variable_pricing").find(".save-variation-changes").attr("disabled","disabled"),a.closest(".variable_pricing").find(".dokan-product-less-price-alert").removeClass("dokan-hide"),t("input[type=submit]").attr("disabled","disabled")):(a.closest(".variable_pricing").find(".dokan-product-less-price-alert").addClass("dokan-hide"),a.closest(".variable_pricing").find(".save-variation-changes").removeAttr("disabled"),t("input[type=submit]").removeAttr("disabled"))}i||(t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock",n).trigger("change"),t(".dokan-product-variation-itmes",n).each((function(a,e){var i=t(e),n=t(".sale_price_dates_from",i).val(),o=t(".sale_price_dates_to",i).val();""===n&&""===o||t("a.sale_schedule",i).trigger("click")})),t(".dokan-variations-container .variation-needs-update",n).removeClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes",n).attr("disabled","disabled")),t(".tips").tooltip(),t("input.dokan-product-regular-price-variable, input.dokan-product-sales-price-variable").on("keyup",_.debounce((function(){!function(a){var e=t("select#product_cat").find("option:selected");if(""!=e.data("commission")){e.data("commission");var i=e.data("product-id")}else t("span.vendor-earning").data("commission"),i=t("span.vendor-earning").data("product-id");""==t("input.dokan-product-sales-price-variable").val()?t("input.dokan-product-regular-price-variable").each((function(e,n){var r=t(n),s=r.closest(".content-half-part").find("span.vendor-price"),d=t(this).closest(n).val();s.html("Calculating"),t.get(dokan.ajaxurl,{action:"get_vendor_earning",product_id:i,product_price:d,_wpnonce:dokan.nonce}).done((function(t){s.html(t),o(r),"function"==typeof a&&a()}))})):t("input.dokan-product-sales-price-variable").each((function(e,n){var r=t(n),s=r.closest(".variable_pricing").find("span.vendor-price"),d=t(this).closest(n).val();s.html("Calculating"),t.get(dokan.ajaxurl,{action:"get_vendor_earning",product_id:i,product_price:d||0,_wpnonce:dokan.nonce}).done((function(t){s.html(t),o(r),"function"==typeof a&&a()})),o(r)}))}()}),750)),t(".dokan-start-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){var e=new Date(a);e.setDate(e.getDate()+1),t(".dokan-end-date").datepicker("option",{minDate:e})}}),t(".dokan-end-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){var e=new Date(a);e.setDate(e.getDate()-1),t("dokan-start-date").datepicker("option",{maxDate:e})}}),t(".dokan-variations-container",n).sortable({items:".dokan-product-variation-itmes",cursor:"move",axis:"y",handle:".sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,stop:function(){a.variation_row_indexes()}})},variation_added:function(t,e){1===e&&a.variations_loaded(null,!0)},set_menu_order:function(a){a.preventDefault();var i=t(this).closest(".dokan-product-variation-itmes").find(".variation_menu_order"),n=window.prompt(dokan.i18n_enter_menu_order,i.val());null!=n&&(i.val(parseInt(n,10)).trigger("change"),e.save_variations())},variation_row_indexes:function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10),i=parseInt((e-1)*dokan.variations_per_page,10);t(".dokan-variations-container .dokan-product-variation-itmes").each((function(a,e){t(".variation_menu_order",e).val(parseInt(t(e).index(".dokan-variations-container .dokan-product-variation-itmes"),10)+1+i).trigger("change")}))}},e={init:function(){this.load_variations(),this.initial_load(),t("#dokan-variable-product-options").on("click","button.save-variation-changes",this.save_variations).on("click","button.cancel-variation-changes",this.cancel_variations).on("click",".remove_variation",this.remove_variation),t(document.body).on("change","#dokan-variable-product-options .dokan-variations-container :input",this.input_changed).on("change",".dokan-variations-defaults select",this.defaults_changed),t("form.dokan-product-edit-form").on("submit",this.save_on_submit),t("#dokan-variable-product-options").on("click","a.do_variation_action",this.do_variation_action)},check_for_changes:function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update");if(0<a.length){if(!window.confirm(dokan.i18n_edited_variations))return a.removeClass("variation-needs-update"),!1;e.save_changes()}return!0},block:function(){t(".dokan-product-variation-wrapper").block({message:null,fadeIn:100,fadeOut:2e3,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){t(".dokan-product-variation-wrapper").unblock()},initial_load:function(){0===t("#dokan-variable-product-options").find(".dokan-variations-container .dokan-product-variation-itmes").length&&i.go_to_page()},load_variations:function(a,i){a=a||1,i=i||dokan.variations_per_page;var n=t("#dokan-variable-product-options").find(".dokan-variations-container");e.block(),t.ajax({url:dokan.ajaxurl,data:{action:"dokan_load_variations",security:dokan.load_variations_nonce,product_id:t("#dokan-edit-product-id").val(),attributes:n.data("attributes"),page:a,per_page:i},type:"POST",success:function(i){n.empty().append(i).attr("data-page",a),t(".dokan-product-variation-wrapper").trigger("dokan_variations_loaded"),e.unblock()}})},get_variations_fields:function(a){var e=t(":input",a).serializeJSON();return t(".dokan-variations-defaults select").each((function(a,i){var n=t(i);e[n.attr("name")]=n.val()})),e},save_changes:function(a){var i=t("#dokan-variable-product-options").find(".dokan-variations-container"),n=t(".variation-needs-update",i),o={};0<n.length&&(e.block(),(o=e.get_variations_fields(n)).action="dokan_save_variations",o.security=dokan.save_variations_nonce,o.product_id=t("#dokan-edit-product-id").val(),o.product_type=t("#product_type").val(),t.ajax({url:dokan.ajaxurl,data:o,type:"POST",success:function(i){n.removeClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").attr("disabled","disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_saved"),"function"==typeof a&&a(i),e.unblock()}}))},save_variations:function(){return t("#dokan-variable-product-options").trigger("dokan_variations_save_variations_button"),e.save_changes((function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),n=e.attr("data-page");t("#dokan-variable-product-options").find("#dokan_errors").remove(),a&&e.before(a),t(".dokan-variations-defaults select").each((function(){t(this).attr("data-current",t(this).val())})),i.go_to_page(n)})),!1},save_on_submit:function(a){0<t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").length&&(a.preventDefault(),t("#dokan-variable-product-options").trigger("dokan_variations_save_variations_on_submit"),e.save_changes(e.save_on_submit_done))},save_on_submit_done:function(){t("form.dokan-product-edit-form").submit()},cancel_variations:function(){var a=parseInt(t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-page"),10);return t("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").removeClass("variation-needs-update"),t(".dokan-variations-defaults select").each((function(){t(this).val(t(this).attr("data-current"))})),i.go_to_page(a),!1},add_variation:function(){e.block();var a={action:"dokan_add_variation",post_id:t("#dokan-edit-product-id").val(),loop:t(".dokan-product-variation-itmes").length,security:dokan.add_variation_nonce};return t.post(dokan.ajaxurl,a,(function(a){var i=t(a);i.addClass("variation-needs-update"),t("#dokan-variable-product-options").find(".dokan-variations-container").prepend(i),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_added",1);var n=t("#product_type").val(),o=(t("input#_virtual:checked").length,t("input#_downloadable:checked").length,".hide_if_downloadable, .hide_if_virtual"),r=".show_if_downloadable, .show_if_virtual";t.each(["simple","external","variable","grouped","subscription","variable-subscription"],(function(t,a){o=o+", .hide_if_"+a,r=r+", .show_if_"+a})),t(o).show(),t(r).hide(),t(".show_if_"+n).show(),t(".hide_if_"+n).hide(),e.unblock()})),!1},remove_variation:function(a){if(a.preventDefault(),e.check_for_changes(),window.confirm(dokan.i18n_remove_variation)){var n=t(this).attr("rel"),o=[],r={action:"dokan_remove_variation"};e.block(),0<n?(o.push(n),r.variation_ids=o,r.security=dokan.delete_variations_nonce,t.post(dokan.ajaxurl,r,(function(){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10),n=Math.ceil((parseInt(a.attr("data-total"),10)-1)/dokan.variations_per_page),o=1;t(".dokan-product-variation-wrapper").trigger("dokan_variations_removed"),e===n||e<=n?o=e:e>n&&0!==n&&(o=n),i.go_to_page(o,-1)}))):e.unblock()}return!1},link_all_variations:function(){if(e.check_for_changes(),window.confirm(dokan.i18n_link_all_variations)){e.block();var a={action:"dokan_link_all_variations",post_id:t("#dokan-edit-product-id").val(),security:dokan.link_variation_nonce};t.post(dokan.ajaxurl,a,(function(a){var n=parseInt(a,10);1===n?window.alert(n+" "+dokan.i18n_variation_added):0===n||n>1?window.alert(n+" "+dokan.i18n_variations_added):window.alert(dokan.i18n_no_variations_added),n>0?(i.go_to_page(1,n),t(".dokan-product-variation-wrapper").trigger("dokan_variations_added",n)):e.unblock()}))}return!1},input_changed:function(){t(this).closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed")},defaults_changed:function(){t(this).closest("#dokan-variable-product-options").find(".dokan-product-variation-itmes:first").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t("#dokan-variable-product-options").trigger("dokan_variations_defaults_changed")},do_variation_action:function(){var a,n=t("select.variation-actions").val(),o={},r=0;switch(n){case"add_variation":return void e.add_variation();case"link_all_variations":return void e.link_all_variations();case"delete_all":window.confirm(dokan.i18n_delete_all_variations)&&window.confirm(dokan.i18n_last_warning)&&(o.allowed=!0,r=-1*parseInt(t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total"),10));break;case"variable_regular_price_increase":case"variable_regular_price_decrease":case"variable_sale_price_increase":case"variable_sale_price_decrease":null!=(a=window.prompt(dokan.i18n_enter_a_value_fixed_or_percent))&&(a.indexOf("%")>=0?o.value=accounting.unformat(a.replace(/\%/,""),dokan_refund.mon_decimal_point)+"%":o.value=accounting.unformat(a,dokan_refund.mon_decimal_point));break;case"variable_regular_price":case"variable_sale_price":case"variable_stock":case"variable_weight":case"variable_length":case"variable_width":case"variable_height":case"variable_download_limit":case"variable_download_expiry":null!=(a=window.prompt(dokan.i18n_enter_a_value))&&(o.value=a);break;case"variable_sale_schedule":o.date_from=window.prompt(dokan.i18n_scheduled_sale_start),o.date_to=window.prompt(dokan.i18n_scheduled_sale_end),null===o.date_from&&(o.date_from=!1),null===o.date_to&&(o.date_to=!1);break;default:t("select.variation-actions").trigger(n),o=t("select.variation-actions").triggerHandler(n+"_ajax_data",o)}"delete_all"===n&&o.allowed?t("#dokan-variable-product-options").find(".variation-needs-update").removeClass("variation-needs-update"):e.check_for_changes(),e.block(),t.ajax({url:dokan.ajaxurl,data:{action:"dokan_bulk_edit_variations",security:dokan.bulk_edit_variations_nonce,product_id:t("#dokan-edit-product-id").val(),product_type:t("#product_type").val(),bulk_action:n,data:o},type:"POST",success:function(){i.go_to_page(1,r)}})}},i={init:function(){t(document.body).on("dokan_variations_added",this.update_single_quantity).on("change",".dokan-variations-pagenav .page-selector",this.page_selector).on("click",".dokan-variations-pagenav .first-page",this.first_page).on("click",".dokan-variations-pagenav .prev-page",this.prev_page).on("click",".dokan-variations-pagenav .next-page",this.next_page).on("click",".dokan-variations-pagenav .last-page",this.last_page)},update_variations_count:function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),i=parseInt(e.attr("data-total"),10)+a,n=t(".dokan-variations-pagenav .displaying-num");return e.attr("data-total",i),1===i?n.text(dokan.i18n_variation_count_single.replace("%qty%",i)):n.text(dokan.i18n_variation_count_plural.replace("%qty%",i)),i},update_single_quantity:function(a,e){if(1===e){var n=t(".dokan-variations-pagenav");i.update_variations_count(e),n.is(":hidden")&&(t("option, optgroup","select.variation-actions").show(),t("select.variation-actions").val("add_variation"),t("#dokan-variable-product-options").find(".dokan-variation-action-toolbar").show(),n.show(),t(".pagination-links",n).hide())}},set_paginav:function(a){var e=t("#dokan-variable-product-options").find(".dokan-variations-container"),n=i.update_variations_count(a),o=t("#dokan-variable-product-options").find(".dokan-variation-action-toolbar"),r=t("select.variation-actions"),s=t(".dokan-variations-pagenav"),d=t(".pagination-links",s),c=Math.ceil(n/dokan.variations_per_page),l="";e.attr("data-total_pages",c),t(".total-pages",s).text(c);for(var p=1;p<=c;p++)l+='<option value="'+p+'">'+p+"</option>";t(".page-selector",s).empty().html(l),0===n?(o.not(".toolbar-top, .toolbar-buttons").hide(),s.hide(),t("option, optgroup",r).hide(),t("select.variation-actions").val("add_variation"),t('option[data-global="true"]',r).show()):(o.show(),s.show(),t("option, optgroup",r).show(),t("select.variation-actions").val("add_variation"),1===c?d.hide():d.show())},check_is_enabled:function(a){return!t(a).hasClass("disabled")},change_classes:function(a,e){var i=t(".dokan-variations-pagenav .first-page"),n=t(".dokan-variations-pagenav .prev-page"),o=t(".dokan-variations-pagenav .next-page"),r=t(".dokan-variations-pagenav .last-page");1===a?(i.addClass("disabled"),n.addClass("disabled")):(i.removeClass("disabled"),n.removeClass("disabled")),e===a?(o.addClass("disabled"),r.addClass("disabled")):(o.removeClass("disabled"),r.removeClass("disabled"))},set_page:function(a){t(".dokan-variations-pagenav .page-selector").val(a).first().trigger("change")},go_to_page:function(t,a){t=t||1,a=a||0,i.set_paginav(a),i.set_page(t)},page_selector:function(){var a=parseInt(t(this).val(),10),n=t("#dokan-variable-product-options").find(".dokan-variations-container");t(".dokan-variations-pagenav .page-selector").val(a),e.check_for_changes(),i.change_classes(a,parseInt(n.attr("data-total_pages"),10)),e.load_variations(a)},first_page:function(){return i.check_is_enabled(this)&&i.set_page(1),!1},prev_page:function(){if(i.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-page"),10)-1,n=0<e?e:1;i.set_page(n)}return!1},next_page:function(){if(i.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(a.attr("data-total_pages"),10),n=parseInt(a.attr("data-page"),10)+1,o=e>=n?n:e;i.set_page(o)}return!1},last_page:function(){if(i.check_is_enabled(this)){var a=t("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total_pages");i.set_page(a)}return!1}};t((function(){t("#dokan-variable-product-options").length&&(a.init(),e.init(),i.init())}))}))},3080:()=>{var t,a,e;t=jQuery,a=t("#variants-holder"),(e={init:function(){t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),t(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),t("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),t("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),t("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),t("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),t("body, #variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),t("body, #variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),t("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),t(".save_attributes").on("click",this.variants.save),this.variants.dates(),this.variants.initSaleSchedule(),t(".product-edit-new-container").on("click",".snippet-btn",this.editProduct.seo.toggleSnippet),t(".product-edit-new-container").on("input","input.wpseo-title-input, textarea.wpseo-meta-input",this.editProduct.seo.dataRender),t(".product-edit-new-container").on("input","#post_title",this.editProduct.seo.onChangePostTitle),t(".product-edit-new-container").on("change","select#wpseo_title_shortcode, select#wpseo_meta_shortcode",this.editProduct.seo.shortcodeRender),t("input.wpseo-title-input").trigger("input"),t("textarea.wpseo-meta-input").trigger("input"),t(".product-edit-new-container, #product-shipping").on("change","input[type=checkbox]#_overwrite_shipping",this.editProduct.shipping.showHideOverride),t(".product-edit-new-container").on("change","input[type=checkbox]#_disable_shipping",this.editProduct.shipping.disableOverride),t("#product-shipping").on("click","#_disable_shipping",this.shipping.disableOverride),t(".product-edit-new-container, .product_lot_discount").on("change","input[type=checkbox]#_is_lot_discount",this.editProduct.showLotDiscountWrapper),t("body").on("click",".upload_image_button",this.editProduct.loadVariationImage),this.editProduct.shipping.showHideOverride(),this.editProduct.shipping.disableOverride(),this.shipping.disableOverride(),t("#_disable_shipping").trigger("change"),t("#_overwrite_shipping").trigger("change"),t(".hide_if_lot_discount").hide(),t(".hide_if_order_discount").hide(),t("body").on("dokan-product-editor-loaded",this.bindProductTagDropdown),t("body").on("dokan-product-editor-popup-opened",this.bindProductTagDropdown)},editProduct:{showLotDiscountWrapper:function(){t(this).is(":checked")?t(".show_if_needs_lot_discount").slideDown("fast"):t(".show_if_needs_lot_discount").slideUp("fast")},loadVariationImage:function(a){var e;a.preventDefault();var i=t(this),n=i.attr("rel"),o=i.closest(".upload_image");if(setting_variation_image=o,placeholder_iamge=dokan.dokan_placeholder_img_src,setting_variation_image_id=n,a.preventDefault(),i.is(".dokan-img-remove"))setting_variation_image.find(".upload_image_id").val(""),setting_variation_image.find("img").attr("src",placeholder_iamge),setting_variation_image.find(".upload_image_button").removeClass("dokan-img-remove"),i.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed");else{if(e)return e.uploader.uploader.param("post_id",setting_variation_image_id),void e.open();wp.media.model.settings.post.id=setting_variation_image_id,wp.media.model.settings.type="dokan",(e=wp.media.frames.variable_image=wp.media({title:dokan.i18n_choose_image,button:{text:dokan.i18n_set_image}})).on("select",(function(){attachment=e.state().get("selection").first().toJSON(),setting_variation_image.find(".upload_image_id").val(attachment.id),setting_variation_image.find(".upload_image_button").addClass("dokan-img-remove"),setting_variation_image.find("img").attr("src",attachment.url),i.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),t("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),t(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed"),wp.media.model.settings.post.id=setting_variation_image_id})),e.open()}},seo:{toggleSnippet:function(){t(".dokan-seo-snippet-edit-wrap").toggle()},replaceShortCodes:function(t,a){var e=Object.keys(a),i=0;for(i=0;i<e.length;i++){var n=e[i].replace(/\[/g,"\\[").replace(/\]/g,"\\]"),o=new RegExp(n,"gi");t&&(t=t.replace(o,a[e[i]]))}return t},dataRender:function(){var a=t(this),i=a.val(),n={"[title]":a.data("title"),"[sep]":a.data("sep"),"[sitename]":a.data("sitename")};""==i&&("text"==a[0].type&&(i="[title] [sep] [sitename]",a.val(i)),"textarea"==a[0].type&&(i=t(".seo-snippet").find(".seo-meta").data("default"),a.val(i)));var o=e.editProduct.seo.replaceShortCodes(i,n);t(".dokan-seo-product-options").find(a.data("class")).html(o)},shortcodeRender:function(){var a=t(this),e=a.val();if(""!=e){var i=jQuery(a.data("class")),n=i[0].selectionStart,o=i.val();i.val(o.substring(0,n)+" "+e+" "+o.substring(n)),i.trigger("input").trigger("focus")}},onChangePostTitle:function(){var a=t(this).val();t('[name="_yoast_wpseo_title"], [name="_yoast_wpseo_metadesc"]').data("title",a).trigger("input")}},shipping:{showHideOverride:function(){t("#_overwrite_shipping").is(":checked")?t(".show_if_override").show():t(".show_if_override").hide()},disableOverride:function(){t("#_disable_shipping").is(":checked")?(t(".show_if_needs_shipping").show(),t("#_overwrite_shipping").trigger("change")):t(".show_if_needs_shipping").hide()}}},variants:{addCategory:function(e){e.preventDefault();var i=t("#product_type").val(),n=t(this).closest("p.toolbar").find("select.select-attribute").val(),o=t(".inputs-box").length;if(""==n){var r=wp.template("sc-category");a.append(r({row:o})).children(":last").hide().fadeIn()}else{var s={row:o,name:n,type:i,action:"dokan_pre_define_attribute"};t("#product-attributes .toolbar").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(dokan.ajaxurl,s,(function(e){e.success&&a.append(e.data).children(":last").hide().fadeIn(),t("#product-attributes .toolbar").unblock()}))}"simple"===product_type&&a.find(".show_if_variable").hide()},removeCategory:function(a){a.preventDefault(),confirm("Sure?")&&t(this).parents(".inputs-box").fadeOut((function(){t(this).remove()}))},addItem:function(a){a.preventDefault();var e=t(this),i=e.closest(".inputs-box"),n=e.closest("ul.option-couplet").find("li").length,o=i.data("count"),r=_.template(t("#tmpl-sc-category-item").html());e.closest("li").after(r({row:o,col:n}))},removeItem:function(a){a.preventDefault(),t(this).parents("ul").find("li").length>1&&t(this).parents("li").fadeOut((function(){t(this).remove()}))},save:function(){var a={post_id:t(this).data("id"),data:t(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},e=window.location.toString();t("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(ajaxurl,a,(function(a){t("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t("#variable_product_options").load(e+" #variable_product_options_inner",(function(){t("#variable_product_options").unblock()})),t("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),t("#variants-holder").unblock()}))},initSaleSchedule:function(){t(".sale_price_dates_fields").each((function(){var a=t(this),e=!1,i=a.closest("div, table");a.find("input").each((function(){""!=t(this).val()&&(e=!0)})),e?(i.find(".sale_schedule").hide(),i.find(".cancel_sale_schedule").show(),i.find(".sale_price_dates_fields").show()):(i.find(".sale_schedule").show(),i.find(".cancel_sale_schedule").hide(),i.find(".sale_price_dates_fields").hide())}))},saleSchedule:function(){var a=t(this).closest("div, table");return t(this).hide(),a.find(".cancel_sale_schedule").show(),a.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var a=t(this).closest("div, table");return t(this).hide(),a.find(".sale_schedule").show(),a.find(".sale_price_dates_fields").hide(),a.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){t('.sale_price_dates_fields input[name="_sale_price_dates_from"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){var e=new Date(a);e.setDate(e.getDate()+1),t('input[name="_sale_price_dates_to"]').datepicker("option",{minDate:e})}}),t('.sale_price_dates_fields input[name="_sale_price_dates_to"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(t){var a=new Date(t);a.setDate(a.getDate()-1)}})},onVariantAdded:function(){e.variants.dates()}},sidebarToggle:{showStatus:function(a){var e=t(this).siblings(".dokan-toggle-select-container");return e.is(":hidden")&&(e.slideDown("fast"),t(this).hide()),!1},saveStatus:function(a){var e=t(this).closest(".dokan-toggle-select-container");e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show();var i=t("option:selected",e.find("select.dokan-toggle-select")).text();return e.siblings(".dokan-toggle-selected-display").html(i),!1},cancel:function(a){var e=t(this).closest(".dokan-toggle-select-container");return e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show(),!1}},shipping:{disableOverride:function(){t("#_disable_shipping").is(":checked")?t(".hide_if_disable").hide():(t(".hide_if_disable").show(),e.editProduct.shipping.showHideOverride())}},bindProductTagDropdown:function(){dokan.product_vendors_can_create_tags&&"on"===dokan.product_vendors_can_create_tags&&t("#product_tag").select2({tags:!0,language:{noResults:function(){return dokan.i18n_no_result_found}}})}}).init()},784:()=>{var t,a;t=jQuery,a={init:function(){t("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),t(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){t(".dokan-check-col").prop("checked",t(this).prop("checked"))},setCommentStatus:function(a){a.preventDefault();var e=t(this),i=e.data("comment_id"),n=e.data("cmt_status"),o=e.data("page_status"),r=e.data("post_type"),s=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:i,comment_status:n,page_status:o,post_type:r,curr_page:s,nonce:dokan.nonce};t.post(dokan.ajaxurl,c,(function(a){0==a.success?alert(a.data):(1!==o||1!==n&&0!==n?d.fadeOut((function(){t(this).remove()})):d.fadeOut((function(){d.replaceWith(a.data.content).fadeIn()})),null==a.data.pending&&(a.data.pending=0),null==a.data.spam&&(a.data.spam=0),null==a.data.trash&&(a.data.trash=0),null==a.data.approved&&(a.data.approved=0),t(".comments-menu-approved").text(a.data.approved),t(".comments-menu-pending").text(a.data.pending),t(".comments-menu-spam").text(a.data.spam),t(".comments-menu-trash").text(a.data.trash))}))}},t((function(){a.init()}))},5049:()=>{var t,a;t=jQuery,a={init:function(){t("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),t("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),t("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),t("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),t(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){t(".dokan-check-col").prop("checked",t(this).prop("checked"))},setCommentStatus:function(a){a.preventDefault();var e=t(this),i=e.data("comment_id"),n=e.data("cmt_status"),o=e.data("page_status"),r=e.data("post_type"),s=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:i,comment_status:n,page_status:o,post_type:r,curr_page:s,nonce:dokan.nonce};t.post(dokan.ajaxurl,c,(function(a){1!==o||1!==n&&0!==n?d.fadeOut((function(){t(this).remove()})):d.fadeOut((function(){d.replaceWith(a.data.content).fadeIn()})),null==a.data.pending&&(a.data.pending=0),null==a.data.spam&&(a.data.spam=0),null==a.data.trash&&(a.data.trash=0),t(".comments-menu-pending").text(a.data.pending),t(".comments-menu-spam").text(a.data.spam),t(".comments-menu-trash").text(a.data.trash)}))},populateForm:function(a){a.preventDefault();var e=t(this).closest("tr");if(e.next().hasClass("dokan-comment-edit-row"))e.next().remove();else{var i=t("#dokan-edit-comment-row").html(),n={author:e.find(".dokan-cmt-hid-author").text(),email:e.find(".dokan-cmt-hid-email").text(),url:e.find(".dokan-cmt-hid-url").text(),body:e.find(".dokan-cmt-hid-body").text(),id:e.find(".dokan-cmt-hid-id").text(),status:e.find(".dokan-cmt-hid-status").text()};e.after(_.template(i,n))}},closeForm:function(a){a.preventDefault(),t(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(a){a.preventDefault();var e=t(this).closest("tr.dokan-comment-edit-row"),i={action:"dokan_update_comment",comment_id:e.find("input.dokan-cmt-id").val(),content:e.find("textarea.dokan-cmt-body").val(),author:e.find("input.dokan-cmt-author").val(),email:e.find("input.dokan-cmt-author-email").val(),url:e.find("input.dokan-cmt-author-url").val(),status:e.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:e.find("input.dokan-cmt-post-type").val()};t.post(dokan.ajaxurl,i,(function(t){!0===t.success?(e.prev().replaceWith(t.data),e.remove()):alert(t.data)}))}},t((function(){a.init()}))},4384:()=>{var t;(t=jQuery)(document).ready((function(){t(".dokan-shipping-location-wrapper").on("change",".dps_country_selection",(function(){var a=t(this),e={country_id:a.find(":selected").val(),action:"dps_select_state_by_country"};""==a.val()||"everywhere"==a.val()?a.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(""):t.post(dokan.ajaxurl,e,(function(t){t.success&&a.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(t.data)}))})),t(".dps-main-wrapper").on("click","a.dps-shipping-add",(function(a){a.preventDefault();var e=t("#dps-shipping-hidden-lcoation-content"),i=t(e).first().clone().appendTo(t(".dokan-shipping-location-wrapper")).show();t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content").first().find("a.dps-shipping-remove").show(),t(".tips").tooltip(),i.removeAttr("id"),i.find("input,select").val(""),i.find("a.dps-shipping-remove").show()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-shipping-remove",(function(a){a.preventDefault(),t(this).closest(".dps-shipping-location-content").remove(),$dpsElm=t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content"),1==$dpsElm.length&&$dpsElm.first().find("a.dps-shipping-remove").hide()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-add",(function(a){a.preventDefault();var e=t(this).closest("tr").first().clone().appendTo(t(this).closest("table.dps-shipping-states"));e.find("input,select").val(""),e.find("a.dps-remove").show(),t(".tips").tooltip()})),t(".dokan-shipping-location-wrapper").on("click","a.dps-remove",(function(a){a.preventDefault(),1==t(this).closest("table.dps-shipping-states").find("tr").length&&t(this).closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show(),t(this).closest("tr").remove()})),t(".dokan-shipping-location-wrapper").on("change keyup",".dps_state_selection",(function(){var a=t(this);""==a.val()||"-1"==a.val()?a.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show():a.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").hide()})),t(".dokan-shipping-location-wrapper .dps_state_selection").trigger("change"),t(".dokan-shipping-location-wrapper .dps_state_selection").trigger("keyup");var a=t(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content");1==a.length&&a.first().find("a.dps-shipping-remove").hide()}))},746:()=>{var t,a,e;t=jQuery,a=t(".dokan-store-seo-wrapper"),e={init:function(){a.on("submit","form#dokan-store-seo-form",this.form.validate)},form:{validate:function(a){a.preventDefault();var i={action:"dokan_seo_form_handler",data:t(this).serialize()};return e.form.submit(i),!1},submit:function(a){var e=t("#dokan-seo-feedback");e.fadeOut(),t.post(dokan.ajaxurl,a,(function(t){t.success?(e.html(t.data),e.removeClass("dokan-hide"),e.addClass("dokan-alert-success"),e.fadeIn()):(e.html(t.data),e.addClass("dokan-alert-danger"),e.removeClass("dokan-hide"),e.fadeIn())}))}}},t((function(){e.init()}))}},a={};function e(i){var n=a[i];if(void 0!==n)return n.exports;var o=a[i]={exports:{}};return t[i](o,o.exports,e),o.exports}(()=>{"use strict";var t,a;e(5372),e(9318),e(3110),e(7636),e(3080),e(784),e(5049),e(4384);function i(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=new Array(a);e<a;e++)i[e]=t[e];return i}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return i(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t=jQuery,a={itemArray:[],itemSlugs:[],itemString:"",init:function(){t("#dokan-store-listing-filter-form-wrap .store-lists-category .category-input").on("click",this.toggleCategory),t("body").on("click",this.hideCategory),t("#dokan-store-listing-filter-form-wrap .store-lists-category .category-box ul li").on("click",this.selectCategory),t("#dokan-store-listing-filter-form-wrap .featured.item #featured").on("change",this.toggleFeatured),t("#dokan-store-listing-filter-form-wrap .open-now.item #open-now").on("change",this.toggleIsOpen),t("#dokan-store-listing-filter-form-wrap .store-ratings.item i").on("click",this.setRatings);var e=dokan.storeLists.getParams();e.length&&e.forEach((function(t){a.setParams(Object.keys(t),Object.values(t))})),this.makeStyleAdjustment()},toggleCategory:function(){t(".store-lists-category .category-box").slideToggle(),t(".store-lists-category .category-input .dokan-icon").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")},hideCategory:function(a){var e=t(a.target);e.is("div.store_category")||e.is("span.dokan-icon")||e.is("div.store-lists-category")||e.is("li")||e.is("ul")||e.is("div.category-input")||e.is("span.category-label")||e.is("span.category-items")||(t(".store-lists-category .category-box").hide(),t(".store-lists-category .category-input .dokan-icon").addClass("dashicons-arrow-down-alt2"))},selectCategory:function(e){var i=t(e.target),n=i.text().trim(),o=i.data("slug"),r=a;if(i.toggleClass("dokan-btn-theme"),r.itemSlugs.includes(o)){var s=r.itemSlugs.indexOf(o);r.itemArray.splice(s,1),r.itemSlugs.splice(s,1)}else r.itemArray.push(n),r.itemSlugs.push(o);dokan.storeLists.query.store_categories=r.itemSlugs;var d=r.itemArray.join(", ");r.setCategoryHolder(d)},toggleFeatured:function(t){delete dokan.storeLists.query.featured,t.target.checked&&(dokan.storeLists.query.featured="yes")},toggleIsOpen:function(t){delete dokan.storeLists.query.open_now,t.target.checked&&(dokan.storeLists.query.open_now="yes")},setRatings:function(a){a.preventDefault();var e=t(a.target),i=e.parent();i.addClass("selected"),n(i.find("i")).forEach((function(a){e.is(a)?t(a).hasClass("active")?(i.removeClass("selected"),t(a).removeClass("active")):t(a).addClass("active"):t(a).removeClass("active")})),dokan.storeLists.query.rating!=e.data("rating")?dokan.storeLists.query.rating=e.data("rating"):delete dokan.storeLists.query.rating},setParams:function(e,i){var n=a,o=window.dokan.storeLists;if(e.forEach((function(t,a){var e=t.indexOf("[");e>0&&(n.itemSlugs.push(i[a]),o.query[t.substr(0,e)]=n.itemSlugs)})),t(".category-items"),o.cateItemStringArray.length){n.itemArray=o.cateItemStringArray;var r=n.itemArray.join(", ");n.setCategoryHolder(r)}},setCategoryHolder:function(a){var e=t(".category-items");if(!a)return e.text(dokan.all_categories);a.length>15?e.text(" ").append(a.substr(0,15)+"..."):e.text(" ").append(a)},makeStyleAdjustment:function(){var a=t(".store-lists-other-filter-wrap");a&&a.children()&&2===a.children().length&&a.children().first()&&a.children().first().hasClass("featured")&&t("#dokan-store-listing-filter-form-wrap .apply-filter").css("margin-top","15px")}},window.dokan&&window.dokan.storeLists&&a.init();e(746);!function(t){({init:function(){var a={d:"dd",D:"D",j:"d",l:"DD",F:"MM",m:"mm",M:"M",n:"m",o:"yy",Y:"yy",y:"y"},e=0,i="",n="";for(e=0;e<dokan.i18n_date_format.length;e++)n+=(i=dokan.i18n_date_format[e])in a?a[i]:i;t(".shipped_status_date").datepicker({dateFormat:n,minDate:0}),t("body").on("change","#shipping_status_provider",(function(a){a.preventDefault(),"sp-other"==t(this).val()?t(".tracking-status-other-url").show():t(".tracking-status-other-url").hide()})),t("body").on("change",".update_shipping_provider",(function(a){a.preventDefault();var e=t(this).data("shipment_id");"sp-other"==t(this).val()?t(".tracking-status-other-area-"+e).show():t(".tracking-status-other-area-"+e).hide()})),t("body").on("click","#create-tracking-status-action",(function(a){a.preventDefault(),t(this).hide(),t("#dokan-order-shipping-status-tracking").show(),t(".no-shipment-found-desc").hide()})),t("body").on("click","#cancel-tracking-status-details",(function(a){a.preventDefault(),t("#dokan-order-shipping-status-tracking").hide(),t("#create-tracking-status-action").show(),t(".no-shipment-found-desc").show()})),t("body").on("click",".shipment-notes-details-tab-toggle",(function(a){a.preventDefault();var e=t(this).data("shipment_id");t(".shipment-list-notes-inner-area"+e).toggle(),t(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")})),t("body").on("click",".shipment-item-details-tab-toggle",(function(){var a=t(this).data("shipment_id");return t(".shipment_body_"+a).toggle(),t(".shipment_footer_"+a).toggle(),t(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2"),!1})),t("body").on("click",".shipment_order_item_select",(function(){var a=t(this).data("order_item_id");t(".shipping_order_item_qty_"+a).toggle()})),t("body").on("click","#add-tracking-status-details",this.insertShippingStatusTrackingInfo),t("body").on("click","#update-tracking-status-details",this.updateShippingStatusTrackingInfo)},insertShippingStatusTrackingInfo:function(a){a.preventDefault(),t("#add-tracking-status-details").prop("disabled",!0),t("#shipment-update-response-area").html(""),t("#shipment-update-response-area").removeClass("dokan-alert dokan-alert-success dokan-alert-warning");var e,i={};t(".shipping-tracking input.shipping_order_item_qty").each((function(a,e){if(t(e).closest("tr").data("shipping_order_item_id")){var n=t(e).closest("tr").data("shipping_order_item_id");e.value&&t("#shipment_order_item_select_"+n).is(":checked")&&(i[n]=e.value)}})),e=t('input[name="shipping_order_item_id[]"]').map((function(){if(this.value&&t("#shipment_order_item_select_"+this.value).is(":checked"))return this.value})).get();var n={shipping_provider:t("#shipping_status_provider").val(),shipping_number:t("#tracking_status_number").val(),shipped_date:t("#shipped_status_date").val(),shipped_status:t("#shipping_status").val(),is_notify:t("#shipped_status_is_notify").is(":checked")?t("#shipped_status_is_notify").val():"off",action:t("#action").val(),post_id:t("#post-id").val(),security:t("#security").val(),other_provider:t("#tracking_status_other_provider").val(),other_p_url:t("#tracking_status_other_p_url").val(),shipment_comments:t("#tracking_status_comments").val(),item_id:JSON.stringify(e,null,""),item_qty:JSON.stringify(i,null,"")};return t("#dokan-order-shipping-status-tracking").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),t.post(dokan.ajaxurl,n,(function(a){a?(t("#shipment-update-response-area").html(a),t("#shipment-update-response-area").addClass("dokan-alert dokan-alert-success")):(t("#shipment-update-response-area").html(dokan.shipment_status_error_msg),t("#shipment-update-response-area").addClass("dokan-alert dokan-alert-warning")),t("#dokan-order-shipping-status-tracking").unblock(),a&&location.reload(),t("#add-tracking-status-details").prop("disabled",!1)})),!1},updateShippingStatusTrackingInfo:function(a){a.preventDefault();var e=t(this).data("shipment_id");t("#shipment-update-response-area_"+e).html("");var i,n,o,r=(i={shipped_status:t("#update_shipping_status_"+e).val(),shipping_provider:t("#update_shipping_provider_"+e).val(),shipped_status_date:t("#shipped_status_date_"+e).val(),tracking_status_number:t("#tracking_status_number_"+e).val(),status_other_provider:t("#tracking_status_other_provider_"+e).val(),status_other_p_url:t("#tracking_status_other_p_url_"+e).val(),shipment_comments:t("#tracking_status_comments_"+e).val(),is_notify:t("#shipment_update_is_notify_"+e).is(":checked")?t("#shipment_update_is_notify_"+e).val():"off",action:"dokan_update_shipping_status_tracking_info",shipment_id:e,post_id:t("#post-id").val(),security:t("#security_update").val()},n="security",o=t("#security_update").val(),n in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o,i);return t(".shipment_id_"+e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),t.post(dokan.ajaxurl,r,(function(a){t(".shipment_id_"+e).unblock(),a&&(t(".status_label_"+e).html(a),t("#tracking_status_comments_"+e).val(""),t("#shipment-update-response-area_"+e).html(dokan.shipment_status_update_msg),setTimeout((function(){t("#shipment-update-response-area_"+e).html("")}),3e3),"Delivered"!=a&&"Cancelled"!=a||location.reload())})),!1}}).init()}(jQuery)})()})();